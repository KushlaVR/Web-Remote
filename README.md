# Web-Remote
## Socket API
## Протокол комунікації
1. Викликаємо GET api/PipeName. Метод повертає Route (адресу труби) по якій відбувається комунікація. Це зроблено для випадків коли до приладу підєднається одночасно два або більше клієнта (наприклад телефон оператора, ноутбук, або ще один телефон...)
2. Встановлюємо зєднання по webSocket протоколу по виділеній для нас трубі. Якщо зєднання встановлено - засвічуємо лампочку **Connected**
3. Надсилаємо пакет з форматом даних **format:{fields:[field1, field2, field, ... fieldN]}\n**. Цього формату має притримуватись додаток при комунікації з приладом, і в такому ж форматі має відровідати прилад. (це для того, щоб мінімізувати трафік і одночасно забезпечити підтримку стрих версій додатку у яких може бути інша конфігурація елементів керування)
4. Отримуємо від прилада масив значень і розставляємо їх по елементах керування у відповідності до обговореного формату
5. Якщо користувач змінив якийсь параметр - надсилаємо приладу у обговореному наперед форматі (кожні 200 мс). (Повертаємось до п4)
6. Якщо звязок втрачено - гасимо лампочку **Connected**. Запускаємо зворотній відлік на 3 секнди і пробуємо відновити звязок (Повертаємось до п1)
